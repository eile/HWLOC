\hypertarget{a00062}{
\section{Conversion between cpuset and nodeset}
\label{a00062}\index{Conversion between cpuset and nodeset@{Conversion between cpuset and nodeset}}
}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static inline void \hyperlink{a00062_ga60ecc4ae480c28b5fbd34aca4fc37daa}{hwloc\_\-cpuset\_\-to\_\-nodeset} (\hyperlink{a00039_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\_\-topology\_\-t} topology, \hyperlink{a00040_ga1f784433e9b606261f62d1134f6a3b25}{hwloc\_\-const\_\-cpuset\_\-t} cpuset, \hyperlink{a00040_ga37e35730fa7e775b5bb0afe893d6d508}{hwloc\_\-nodeset\_\-t} nodeset)
\item 
static inline void \hyperlink{a00062_ga9162785e39d7c697f76f99524c4a2fb4}{hwloc\_\-cpuset\_\-to\_\-nodeset\_\-strict} (struct hwloc\_\-topology $\ast$topology, \hyperlink{a00040_ga1f784433e9b606261f62d1134f6a3b25}{hwloc\_\-const\_\-cpuset\_\-t} cpuset, \hyperlink{a00040_ga37e35730fa7e775b5bb0afe893d6d508}{hwloc\_\-nodeset\_\-t} nodeset)
\item 
static inline void \hyperlink{a00062_gaa677fd588304b5615de4ea78104adfb5}{hwloc\_\-cpuset\_\-from\_\-nodeset} (\hyperlink{a00039_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\_\-topology\_\-t} topology, \hyperlink{a00040_ga4bbf39b68b6f568fb92739e7c0ea7801}{hwloc\_\-cpuset\_\-t} cpuset, \hyperlink{a00040_ga2f5276235841ad66a79bedad16a5a10c}{hwloc\_\-const\_\-nodeset\_\-t} nodeset)
\item 
static inline void \hyperlink{a00062_gaa7c3f39802b00a758c58e024a8119979}{hwloc\_\-cpuset\_\-from\_\-nodeset\_\-strict} (struct hwloc\_\-topology $\ast$topology, \hyperlink{a00040_ga4bbf39b68b6f568fb92739e7c0ea7801}{hwloc\_\-cpuset\_\-t} cpuset, \hyperlink{a00040_ga2f5276235841ad66a79bedad16a5a10c}{hwloc\_\-const\_\-nodeset\_\-t} nodeset)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
There are two semantics for converting cpusets to nodesets depending on how non-\/NUMA machines are handled.

When manipulating nodesets for memory binding, non-\/NUMA machines should be considered as having a single NUMA node. The standard conversion routines below should be used so that marking the first bit of the nodeset means that memory should be bound to a non-\/NUMA whole machine.

When manipulating nodesets as an actual list of NUMA nodes without any need to handle memory binding on non-\/NUMA machines, the strict conversion routines may be used instead. 

\subsection{Function Documentation}
\hypertarget{a00062_gaa677fd588304b5615de4ea78104adfb5}{
\index{hwlocality\_\-helper\_\-nodeset\_\-convert@{hwlocality\_\-helper\_\-nodeset\_\-convert}!hwloc\_\-cpuset\_\-from\_\-nodeset@{hwloc\_\-cpuset\_\-from\_\-nodeset}}
\index{hwloc\_\-cpuset\_\-from\_\-nodeset@{hwloc\_\-cpuset\_\-from\_\-nodeset}!hwlocality_helper_nodeset_convert@{hwlocality\_\-helper\_\-nodeset\_\-convert}}
\subsubsection[{hwloc\_\-cpuset\_\-from\_\-nodeset}]{\setlength{\rightskip}{0pt plus 5cm}static inline void hwloc\_\-cpuset\_\-from\_\-nodeset (
\begin{DoxyParamCaption}
\item[{{\bf hwloc\_\-topology\_\-t}}]{topology, }
\item[{{\bf hwloc\_\-cpuset\_\-t}}]{cpuset, }
\item[{{\bf hwloc\_\-const\_\-nodeset\_\-t}}]{nodeset}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{a00062_gaa677fd588304b5615de4ea78104adfb5}


Convert a NUMA node set into a CPU set and handle non-\/NUMA cases. 

If the topology contains no NUMA nodes, the machine is considered as a single memory node, and the following behavior is used: If {\ttfamily nodeset} is empty, {\ttfamily cpuset} will be emptied as well. Otherwise {\ttfamily cpuset} will be entirely filled. This is useful for manipulating memory binding sets. \hypertarget{a00062_gaa7c3f39802b00a758c58e024a8119979}{
\index{hwlocality\_\-helper\_\-nodeset\_\-convert@{hwlocality\_\-helper\_\-nodeset\_\-convert}!hwloc\_\-cpuset\_\-from\_\-nodeset\_\-strict@{hwloc\_\-cpuset\_\-from\_\-nodeset\_\-strict}}
\index{hwloc\_\-cpuset\_\-from\_\-nodeset\_\-strict@{hwloc\_\-cpuset\_\-from\_\-nodeset\_\-strict}!hwlocality_helper_nodeset_convert@{hwlocality\_\-helper\_\-nodeset\_\-convert}}
\subsubsection[{hwloc\_\-cpuset\_\-from\_\-nodeset\_\-strict}]{\setlength{\rightskip}{0pt plus 5cm}static inline void hwloc\_\-cpuset\_\-from\_\-nodeset\_\-strict (
\begin{DoxyParamCaption}
\item[{struct hwloc\_\-topology $\ast$}]{topology, }
\item[{{\bf hwloc\_\-cpuset\_\-t}}]{cpuset, }
\item[{{\bf hwloc\_\-const\_\-nodeset\_\-t}}]{nodeset}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{a00062_gaa7c3f39802b00a758c58e024a8119979}


Convert a NUMA node set into a CPU set without handling non-\/NUMA cases. 

This is the strict variant of \hyperlink{a00062_gaa677fd588304b5615de4ea78104adfb5}{hwloc\_\-cpuset\_\-from\_\-nodeset}. It does not fix non-\/NUMA cases. If the topology contains some NUMA nodes, behave exactly the same. However, if the topology contains no NUMA nodes, return an empty cpuset. \hypertarget{a00062_ga60ecc4ae480c28b5fbd34aca4fc37daa}{
\index{hwlocality\_\-helper\_\-nodeset\_\-convert@{hwlocality\_\-helper\_\-nodeset\_\-convert}!hwloc\_\-cpuset\_\-to\_\-nodeset@{hwloc\_\-cpuset\_\-to\_\-nodeset}}
\index{hwloc\_\-cpuset\_\-to\_\-nodeset@{hwloc\_\-cpuset\_\-to\_\-nodeset}!hwlocality_helper_nodeset_convert@{hwlocality\_\-helper\_\-nodeset\_\-convert}}
\subsubsection[{hwloc\_\-cpuset\_\-to\_\-nodeset}]{\setlength{\rightskip}{0pt plus 5cm}static inline void hwloc\_\-cpuset\_\-to\_\-nodeset (
\begin{DoxyParamCaption}
\item[{{\bf hwloc\_\-topology\_\-t}}]{topology, }
\item[{{\bf hwloc\_\-const\_\-cpuset\_\-t}}]{cpuset, }
\item[{{\bf hwloc\_\-nodeset\_\-t}}]{nodeset}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{a00062_ga60ecc4ae480c28b5fbd34aca4fc37daa}


Convert a CPU set into a NUMA node set and handle non-\/NUMA cases. 

If some NUMA nodes have no CPUs at all, this function never sets their indexes in the output node set, even if a full CPU set is given in input.

If the topology contains no NUMA nodes, the machine is considered as a single memory node, and the following behavior is used: If {\ttfamily cpuset} is empty, {\ttfamily nodeset} will be emptied as well. Otherwise {\ttfamily nodeset} will be entirely filled. \hypertarget{a00062_ga9162785e39d7c697f76f99524c4a2fb4}{
\index{hwlocality\_\-helper\_\-nodeset\_\-convert@{hwlocality\_\-helper\_\-nodeset\_\-convert}!hwloc\_\-cpuset\_\-to\_\-nodeset\_\-strict@{hwloc\_\-cpuset\_\-to\_\-nodeset\_\-strict}}
\index{hwloc\_\-cpuset\_\-to\_\-nodeset\_\-strict@{hwloc\_\-cpuset\_\-to\_\-nodeset\_\-strict}!hwlocality_helper_nodeset_convert@{hwlocality\_\-helper\_\-nodeset\_\-convert}}
\subsubsection[{hwloc\_\-cpuset\_\-to\_\-nodeset\_\-strict}]{\setlength{\rightskip}{0pt plus 5cm}static inline void hwloc\_\-cpuset\_\-to\_\-nodeset\_\-strict (
\begin{DoxyParamCaption}
\item[{struct hwloc\_\-topology $\ast$}]{topology, }
\item[{{\bf hwloc\_\-const\_\-cpuset\_\-t}}]{cpuset, }
\item[{{\bf hwloc\_\-nodeset\_\-t}}]{nodeset}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{a00062_ga9162785e39d7c697f76f99524c4a2fb4}


Convert a CPU set into a NUMA node set without handling non-\/NUMA cases. 

This is the strict variant of \hyperlink{a00062_ga60ecc4ae480c28b5fbd34aca4fc37daa}{hwloc\_\-cpuset\_\-to\_\-nodeset}. It does not fix non-\/NUMA cases. If the topology contains some NUMA nodes, behave exactly the same. However, if the topology contains no NUMA nodes, return an empty nodeset. 