\hypertarget{a00058}{
\section{Advanced Traversal Helpers}
\label{a00058}\index{Advanced Traversal Helpers@{Advanced Traversal Helpers}}
}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
 unsigned \hyperlink{a00058_ga26c2ac4f25b1ed293249c88e232f1bea}{hwloc\_\-get\_\-closest\_\-objs} (\hyperlink{a00039_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\_\-topology\_\-t} topology, \hyperlink{a00016}{hwloc\_\-obj\_\-t} src, \hyperlink{a00016}{hwloc\_\-obj\_\-t} $\ast$restrict objs, unsigned max)
\item 
static inline \hyperlink{a00016}{hwloc\_\-obj\_\-t} \hyperlink{a00058_ga6c482c2097f01b1ff88598fec8a1ba3b}{hwloc\_\-get\_\-obj\_\-below\_\-by\_\-type} (\hyperlink{a00039_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\_\-topology\_\-t} topology, \hyperlink{a00041_gacd37bb612667dc437d66bfb175a8dc55}{hwloc\_\-obj\_\-type\_\-t} type1, unsigned idx1, \hyperlink{a00041_gacd37bb612667dc437d66bfb175a8dc55}{hwloc\_\-obj\_\-type\_\-t} type2, unsigned idx2) 
\item 
static inline \hyperlink{a00016}{hwloc\_\-obj\_\-t} \hyperlink{a00058_gac33a0990f4e771b2117ddedabc3f00f6}{hwloc\_\-get\_\-obj\_\-below\_\-array\_\-by\_\-type} (\hyperlink{a00039_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\_\-topology\_\-t} topology, int nr, \hyperlink{a00041_gacd37bb612667dc437d66bfb175a8dc55}{hwloc\_\-obj\_\-type\_\-t} $\ast$typev, unsigned $\ast$idxv) 
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Be sure to see the figure in \hyperlink{a00001}{Terms and Definitions} that shows a complete topology tree, including depths, child/sibling/cousin relationships, and an example of an asymmetric topology where one socket has fewer caches than its peers. 

\subsection{Function Documentation}
\hypertarget{a00058_ga26c2ac4f25b1ed293249c88e232f1bea}{
\index{hwlocality\_\-helper\_\-traversal@{hwlocality\_\-helper\_\-traversal}!hwloc\_\-get\_\-closest\_\-objs@{hwloc\_\-get\_\-closest\_\-objs}}
\index{hwloc\_\-get\_\-closest\_\-objs@{hwloc\_\-get\_\-closest\_\-objs}!hwlocality_helper_traversal@{hwlocality\_\-helper\_\-traversal}}
\subsubsection[{hwloc\_\-get\_\-closest\_\-objs}]{\setlength{\rightskip}{0pt plus 5cm} unsigned hwloc\_\-get\_\-closest\_\-objs (
\begin{DoxyParamCaption}
\item[{{\bf hwloc\_\-topology\_\-t}}]{topology, }
\item[{{\bf hwloc\_\-obj\_\-t}}]{src, }
\item[{{\bf hwloc\_\-obj\_\-t} $\ast$restrict}]{objs, }
\item[{unsigned}]{max}
\end{DoxyParamCaption}
)}}
\label{a00058_ga26c2ac4f25b1ed293249c88e232f1bea}


Do a depth-\/first traversal of the topology to find and sort. 

all objects that are at the same depth than {\ttfamily src}. Report in {\ttfamily objs} up to {\ttfamily max} physically closest ones to {\ttfamily src}.

\begin{DoxyReturn}{Returns}
the number of objects returned in {\ttfamily objs}.

0 if {\ttfamily src} is an I/O object.
\end{DoxyReturn}
\begin{DoxyNote}{Note}
This function requires the {\ttfamily src} object to have a CPU set. 
\end{DoxyNote}
\hypertarget{a00058_gac33a0990f4e771b2117ddedabc3f00f6}{
\index{hwlocality\_\-helper\_\-traversal@{hwlocality\_\-helper\_\-traversal}!hwloc\_\-get\_\-obj\_\-below\_\-array\_\-by\_\-type@{hwloc\_\-get\_\-obj\_\-below\_\-array\_\-by\_\-type}}
\index{hwloc\_\-get\_\-obj\_\-below\_\-array\_\-by\_\-type@{hwloc\_\-get\_\-obj\_\-below\_\-array\_\-by\_\-type}!hwlocality_helper_traversal@{hwlocality\_\-helper\_\-traversal}}
\subsubsection[{hwloc\_\-get\_\-obj\_\-below\_\-array\_\-by\_\-type}]{\setlength{\rightskip}{0pt plus 5cm}static inline {\bf hwloc\_\-obj\_\-t} hwloc\_\-get\_\-obj\_\-below\_\-array\_\-by\_\-type (
\begin{DoxyParamCaption}
\item[{{\bf hwloc\_\-topology\_\-t}}]{topology, }
\item[{int}]{nr, }
\item[{{\bf hwloc\_\-obj\_\-type\_\-t} $\ast$}]{typev, }
\item[{unsigned $\ast$}]{idxv}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{a00058_gac33a0990f4e771b2117ddedabc3f00f6}


Find an object below a chain of objects specified by types and indexes. 

This is a generalized version of \hyperlink{a00058_ga6c482c2097f01b1ff88598fec8a1ba3b}{hwloc\_\-get\_\-obj\_\-below\_\-by\_\-type()}.

Arrays {\ttfamily typev} and {\ttfamily idxv} must contain {\ttfamily nr} types and indexes.

Start from the top system object and walk the arrays {\ttfamily typev} and {\ttfamily idxv}. For each type and logical index couple in the arrays, look under the previously found object to find the index-\/th object of the given type. Indexes are specified within the parent, not withing the entire system.

For instance, if nr is 3, typev contains NODE, SOCKET and CORE, and idxv contains 0, 1 and 2, return the third core object below the second socket below the first NUMA node.

\begin{DoxyNote}{Note}
This function requires all these objects and the root object to have a CPU set. 
\end{DoxyNote}
\hypertarget{a00058_ga6c482c2097f01b1ff88598fec8a1ba3b}{
\index{hwlocality\_\-helper\_\-traversal@{hwlocality\_\-helper\_\-traversal}!hwloc\_\-get\_\-obj\_\-below\_\-by\_\-type@{hwloc\_\-get\_\-obj\_\-below\_\-by\_\-type}}
\index{hwloc\_\-get\_\-obj\_\-below\_\-by\_\-type@{hwloc\_\-get\_\-obj\_\-below\_\-by\_\-type}!hwlocality_helper_traversal@{hwlocality\_\-helper\_\-traversal}}
\subsubsection[{hwloc\_\-get\_\-obj\_\-below\_\-by\_\-type}]{\setlength{\rightskip}{0pt plus 5cm}static inline {\bf hwloc\_\-obj\_\-t} hwloc\_\-get\_\-obj\_\-below\_\-by\_\-type (
\begin{DoxyParamCaption}
\item[{{\bf hwloc\_\-topology\_\-t}}]{topology, }
\item[{{\bf hwloc\_\-obj\_\-type\_\-t}}]{type1, }
\item[{unsigned}]{idx1, }
\item[{{\bf hwloc\_\-obj\_\-type\_\-t}}]{type2, }
\item[{unsigned}]{idx2}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{a00058_ga6c482c2097f01b1ff88598fec8a1ba3b}


Find an object below another object, both specified by types and indexes. 

Start from the top system object and find object of type {\ttfamily type1} and logical index {\ttfamily idx1}. Then look below this object and find another object of type {\ttfamily type2} and logical index {\ttfamily idx2}. Indexes are specified within the parent, not withing the entire system.

For instance, if type1 is SOCKET, idx1 is 2, type2 is CORE and idx2 is 3, return the fourth core object below the third socket.

\begin{DoxyNote}{Note}
This function requires these objects to have a CPU set. 
\end{DoxyNote}
