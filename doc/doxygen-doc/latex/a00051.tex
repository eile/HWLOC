\hypertarget{a00051}{
\section{Building Custom Topologies}
\label{a00051}\index{Building Custom Topologies@{Building Custom Topologies}}
}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
 int \hyperlink{a00051_ga59ccf6a63cb23d63940e8b782059d9cb}{hwloc\_\-custom\_\-insert\_\-topology} (\hyperlink{a00039_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\_\-topology\_\-t} newtopology, \hyperlink{a00016}{hwloc\_\-obj\_\-t} newparent, \hyperlink{a00039_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\_\-topology\_\-t} oldtopology, \hyperlink{a00016}{hwloc\_\-obj\_\-t} oldroot)
\item 
 \hyperlink{a00016}{hwloc\_\-obj\_\-t} \hyperlink{a00051_gac1037fe389bfa7c2bf0e3739b7e20844}{hwloc\_\-custom\_\-insert\_\-group\_\-object\_\-by\_\-parent} (\hyperlink{a00039_ga9d1e76ee15a7dee158b786c30b6a6e38}{hwloc\_\-topology\_\-t} topology, \hyperlink{a00016}{hwloc\_\-obj\_\-t} parent, int groupdepth)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
A custom topology may be initialized by calling \hyperlink{a00044_ga12024fec46f9368fb8fc5c624089c5ec}{hwloc\_\-topology\_\-set\_\-custom()} after \hyperlink{a00043_ga5c2d6f476af87005c7bd0811d4548b9f}{hwloc\_\-topology\_\-init()}. It may then be modified by inserting objects or entire topologies. Once done assembling, \hyperlink{a00043_ga91e2e6427b95fb7339c99dbbef996e71}{hwloc\_\-topology\_\-load()} should be invoked as usual to finalize the topology. 

\subsection{Function Documentation}
\hypertarget{a00051_gac1037fe389bfa7c2bf0e3739b7e20844}{
\index{hwlocality\_\-custom@{hwlocality\_\-custom}!hwloc\_\-custom\_\-insert\_\-group\_\-object\_\-by\_\-parent@{hwloc\_\-custom\_\-insert\_\-group\_\-object\_\-by\_\-parent}}
\index{hwloc\_\-custom\_\-insert\_\-group\_\-object\_\-by\_\-parent@{hwloc\_\-custom\_\-insert\_\-group\_\-object\_\-by\_\-parent}!hwlocality_custom@{hwlocality\_\-custom}}
\subsubsection[{hwloc\_\-custom\_\-insert\_\-group\_\-object\_\-by\_\-parent}]{\setlength{\rightskip}{0pt plus 5cm} {\bf hwloc\_\-obj\_\-t} hwloc\_\-custom\_\-insert\_\-group\_\-object\_\-by\_\-parent (
\begin{DoxyParamCaption}
\item[{{\bf hwloc\_\-topology\_\-t}}]{topology, }
\item[{{\bf hwloc\_\-obj\_\-t}}]{parent, }
\item[{int}]{groupdepth}
\end{DoxyParamCaption}
)}}
\label{a00051_gac1037fe389bfa7c2bf0e3739b7e20844}


Insert a new group object inside a custom topology. 

An object with type \hyperlink{a00041_ggacd37bb612667dc437d66bfb175a8dc55a5269ef95be72f88465559d35c9b7ad56}{HWLOC\_\-OBJ\_\-GROUP} is inserted as a new child of object {\ttfamily parent}.

{\ttfamily groupdepth} is the depth attribute to be given to the new object. It may for instance be 0 for top-\/level groups, 1 for their children, and so on.

The custom topology {\ttfamily newtopology} must have been prepared with \hyperlink{a00044_ga12024fec46f9368fb8fc5c624089c5ec}{hwloc\_\-topology\_\-set\_\-custom()} and not loaded with \hyperlink{a00043_ga91e2e6427b95fb7339c99dbbef996e71}{hwloc\_\-topology\_\-load()} yet.

{\ttfamily parent} may be either the root of {\ttfamily topology} or an object that was added earlier through \hyperlink{a00051_gac1037fe389bfa7c2bf0e3739b7e20844}{hwloc\_\-custom\_\-insert\_\-group\_\-object\_\-by\_\-parent()}. \hypertarget{a00051_ga59ccf6a63cb23d63940e8b782059d9cb}{
\index{hwlocality\_\-custom@{hwlocality\_\-custom}!hwloc\_\-custom\_\-insert\_\-topology@{hwloc\_\-custom\_\-insert\_\-topology}}
\index{hwloc\_\-custom\_\-insert\_\-topology@{hwloc\_\-custom\_\-insert\_\-topology}!hwlocality_custom@{hwlocality\_\-custom}}
\subsubsection[{hwloc\_\-custom\_\-insert\_\-topology}]{\setlength{\rightskip}{0pt plus 5cm} int hwloc\_\-custom\_\-insert\_\-topology (
\begin{DoxyParamCaption}
\item[{{\bf hwloc\_\-topology\_\-t}}]{newtopology, }
\item[{{\bf hwloc\_\-obj\_\-t}}]{newparent, }
\item[{{\bf hwloc\_\-topology\_\-t}}]{oldtopology, }
\item[{{\bf hwloc\_\-obj\_\-t}}]{oldroot}
\end{DoxyParamCaption}
)}}
\label{a00051_ga59ccf6a63cb23d63940e8b782059d9cb}


Insert an existing topology inside a custom topology. 

Duplicate the existing topology {\ttfamily oldtopology} inside a new custom topology {\ttfamily newtopology} as a leaf of object {\ttfamily newparent}.

If {\ttfamily oldroot} is not {\ttfamily NULL}, duplicate {\ttfamily oldroot} and all its children instead of the entire {\ttfamily oldtopology}. Passing the root object of {\ttfamily oldtopology} in {\ttfamily oldroot} is equivalent to passing {\ttfamily NULL}.

The custom topology {\ttfamily newtopology} must have been prepared with \hyperlink{a00044_ga12024fec46f9368fb8fc5c624089c5ec}{hwloc\_\-topology\_\-set\_\-custom()} and not loaded with \hyperlink{a00043_ga91e2e6427b95fb7339c99dbbef996e71}{hwloc\_\-topology\_\-load()} yet.

{\ttfamily newparent} may be either the root of {\ttfamily newtopology} or an object that was added through \hyperlink{a00051_gac1037fe389bfa7c2bf0e3739b7e20844}{hwloc\_\-custom\_\-insert\_\-group\_\-object\_\-by\_\-parent()}. 